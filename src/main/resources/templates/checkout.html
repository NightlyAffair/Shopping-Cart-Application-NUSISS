<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Shop @ISS – Checkout</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">

  <!-- Custom Styles -->
  <link href="../static/css/style.css" rel="stylesheet">
  <link href="../static/css/checkout.css" rel="stylesheet">
</head>
<body>
  <div class="container">
  
    <!-- Header -->
     <header class="site-header">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-3">
        <div class="logo">
          <h5>Shop @ISS</h5>
        </div>
      </div>
      
      <div class="col-md-6 text-center d-none d-md-block">
        <span class="promotional-text" th:if="${user == null}">
          Today's Deals: Free shipping over $80 | 10% off on new arrivals
        </span>
      </div>
      
      <div class="col-md-3">
        <div class="user-actions d-flex align-items-center justify-content-end gap-3" 
             th:if="${user != null}">
  
          <div class="dropdown user-dropdown">
            <button class="btn btn-link text-decoration-none gap-0 p-0" 
                    type="button" 
                    data-bs-toggle="dropdown" 
                    aria-expanded="false">
        
              <div class="user-avatar" th:text="${user.firstName.substring(0,1) + user.lastName.substring(0,1)}">
                JD
              </div>
            </button>
            
            <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
              <li>
                <div class="px-3 py-2 border-bottom">
                  <div class="fw-semibold" th:text="${user.firstName + ' ' + user.lastName}">John Doe</div>
                  <small class="text-muted" th:text="${user.email}">john@example.com</small>
                </div>
              </li>
              <li><a class="dropdown-item" th:href="@{/orderHistory}">
                <i class="bi bi-clock-history me-2"></i>Order History
              </a></li>
              <li><a class="dropdown-item" th:href="@{/favorites}">
                <i class="bi bi-heart me-2"></i>My Favorites
              </a></li>
              <li><a class="dropdown-item" th:href="@{/settings}">
                <i class="bi bi-gear me-2"></i>Settings
              </a></li>
              <li><hr class="dropdown-divider"></li>
              <li>
                <form th:action="@{/logout}" method="post" class="d-inline w-100">
                  <button type="submit" class="dropdown-item text-danger">
                    <i class="bi bi-box-arrow-right me-2"></i>Logout
                  </button>
                </form>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

  <!-- NavBar -->
  <nav class="navbar navbar-expand-lg navbar-dark site-navbar">
    <div class="container">
      <a class="navbar-brand" th:href="@{/products}">
        <i class="bi bi-grid-3x3-gap me-2"></i>Browse
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" th:href="@{/cart}">
              <i class="bi bi-cart3 me-1"></i>Cart
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- BreadCrumb -->
  <nav aria-label="breadcrumb" class="bg-white border-bottom">
    <div class="container">
      <ol class="breadcrumb py-3 mb-0">
        <li class="breadcrumb-item"><a th:href="@{/cart}">Cart</a></li>
        <li class="breadcrumb-item active" aria-current="page">Checkout</li>
      </ol>
    </div>
  </nav>

    <main>
      <div class="row g-5">
        <!-- ORDER SUMMARY -->
        <div class="col-md-5 col-lg-4 order-md-last">
          <div class="cart-summary">
            <h4 class="d-flex justify-content-between align-items-center mb-3">
              <span>Your cart</span>
              <span class="badge bg-primary rounded-pill">3</span>
            </h4>
            
            <ul class="list-group mb-3">
              <li class="list-group-item d-flex justify-content-between lh-sm">
                <div>
                  <h6 class="my-0">Product name</h6>
                  <small class="text-body-secondary">Brief description</small>
                </div>
                <span class="text-body-secondary">$12</span>
              </li>
              <li class="list-group-item d-flex justify-content-between lh-sm">
                <div>
                  <h6 class="my-0">Second product</h6>
                  <small class="text-body-secondary">Brief description</small>
                </div>
                <span class="text-body-secondary">$8</span>
              </li>
              <li class="list-group-item d-flex justify-content-between lh-sm">
                <div>
                  <h6 class="my-0">Third item</h6>
                  <small class="text-body-secondary">Brief description</small>
                </div>
                <span class="text-body-secondary">$5</span>
              </li>
              <li class="list-group-item d-flex justify-content-between bg-light">
                <div class="text-success">
                  <h6 class="my-0">Promo code</h6>
                  <small>EXAMPLECODE</small>
                </div>
                <span class="text-success">−$5</span>
              </li>
              <li class="list-group-item d-flex justify-content-between">
                <span class="fw-bold">Total (USD)</span>
                <strong>$20</strong>
              </li>
            </ul>

            <form class="promo-form">
              <div class="input-group">
                <input type="text" class="form-control" placeholder="Promo code">
                <button type="submit" class="btn btn-secondary">Redeem</button>
              </div>
            </form>
          </div>
        </div>

        <!-- Billing -->
        <div class="col-md-7 col-lg-8">
          <div class="billing-form">
            <h4 class="mb-3">Billing address</h4>
            
            <form class="needs-validation" novalidate>
              <div class="row g-3">
                <div class="col-sm-6">
                  <label for="firstName" class="form-label">First name</label>
                  <input type="text" class="form-control" id="firstName" required>
                  <div class="invalid-feedback">
                    Valid first name is required.
                  </div>
                </div>

                <div class="col-sm-6">
                  <label for="lastName" class="form-label">Last name</label>
                  <input type="text" class="form-control" id="lastName" required>
                  <div class="invalid-feedback">
                    Valid last name is required.
                  </div>
                </div>

                <div class="col-12">
                  <label for="username" class="form-label">Username</label>
                  <div class="input-group has-validation">
                    <span class="input-group-text">@</span>
                    <input type="text" class="form-control" id="username" placeholder="Username" required>
                    <div class="invalid-feedback">
                      Your username is required.
                    </div>
                  </div>
                </div>

                <div class="col-12">
                  <label for="email" class="form-label">Email <span class="text-muted">(Optional)</span></label>
                  <input type="email" class="form-control" id="email" placeholder="you@example.com">
                  <div class="invalid-feedback">
                    Please enter a valid email address for shipping updates.
                  </div>
                </div>

                <div class="col-12">
                  <label for="address" class="form-label">Address</label>
                  <input type="text" class="form-control" id="address" placeholder="1234 Main St" required>
                  <div class="invalid-feedback">
                    Please enter your shipping address.
                  </div>
                </div>

                <div class="col-12">
                  <label for="address2" class="form-label">Address 2 <span class="text-muted">(Optional)</span></label>
                  <input type="text" class="form-control" id="address2" placeholder="Apartment or suite">
                </div>

                <div class="col-md-5">
                  <label for="country" class="form-label">Country</label>
                  <select class="form-select" id="country" required>
                    <option value="">Choose...</option>
                    <option>United States</option>
                  </select>
                  <div class="invalid-feedback">
                    Please select a valid country.
                  </div>
                </div>

                <div class="col-md-4">
                  <label for="state" class="form-label">State</label>
                  <select class="form-select" id="state" required>
                    <option value="">Choose...</option>
                    <option>California</option>
                  </select>
                  <div class="invalid-feedback">
                    Please provide a valid state.
                  </div>
                </div>

                <div class="col-md-3">
                  <label for="zip" class="form-label">Zip</label>
                  <input type="text" class="form-control" id="zip" required>
                  <div class="invalid-feedback">
                    Zip code required.
                  </div>
                </div>
              </div>

              <hr class="my-4">

              <div class="form-check">
                <input type="checkbox" class="form-check-input" id="same-address">
                <label class="form-check-label" for="same-address">
                  Shipping address is the same as my billing address
                </label>
              </div>

              <div class="form-check">
                <input type="checkbox" class="form-check-input" id="save-info">
                <label class="form-check-label" for="save-info">
                  Save this information for next time
                </label>
              </div>

              <hr class="my-4">

              <h4 class="mb-3">Payment</h4>

              <div class="payment-methods mb-3">
                <div class="form-check">
                  <input id="credit" name="paymentMethod" type="radio" class="form-check-input" checked required>
                  <label class="form-check-label" for="credit">
                    <i class="bi bi-credit-card me-2"></i>Credit card
                  </label>
                </div>
                <div class="form-check">
                  <input id="debit" name="paymentMethod" type="radio" class="form-check-input" required>
                  <label class="form-check-label" for="debit">
                    <i class="bi bi-credit-card-2-front me-2"></i>Debit card
                  </label>
                </div>
                <div class="form-check">
                  <input id="paypal" name="paymentMethod" type="radio" class="form-check-input" required>
                  <label class="form-check-label" for="paypal">
                    <i class="bi bi-paypal me-2"></i>PayPal
                  </label>
                </div>
              </div>

              <div class="row gy-3">
                <div class="col-md-6">
                  <label for="cc-name" class="form-label">Name on card</label>
                  <input type="text" class="form-control" id="cc-name" required>
                  <small class="text-muted">Full name as displayed on card</small>
                  <div class="invalid-feedback">Name on card is required</div>
                </div>

                <div class="col-md-6">
                  <label for="cc-number" class="form-label">Credit card number</label>
                  <input type="text" class="form-control" id="cc-number" required>
                  <div class="invalid-feedback">Credit card number is required</div>
                </div>

                <div class="col-md-3">
                  <label for="cc-expiration" class="form-label">Expiration</label>
                  <input type="text" class="form-control" id="cc-expiration" placeholder="MM/YY" required>
                  <div class="invalid-feedback">Expiration date required</div>
                </div>

                <div class="col-md-3">
                  <label for="cc-cvv" class="form-label">CVV</label>
                  <input type="text" class="form-control" id="cc-cvv" required>
                  <div class="invalid-feedback">Security code required</div>
                </div>
              </div>

              <hr class="my-4">

              <button class="btn btn-primary btn-lg w-100 btn-checkout" type="submit">
                <i class="bi bi-lock me-2"></i>Complete Order
              </button>
            </form>
          </div>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer class="checkout-footer">
      <p>&copy; 2025 TEAM_TWO. All rights reserved.</p>
    </footer>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="../static/js/checkout.js"></script>
</body>
</html>